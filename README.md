# Android SDK
* * * Implementation Document
https://docs.google.com/document/d/1WWrVc4yoxGkl-9Z3Bv_QIMdaM4TpnJx1fouhdfqi8Fo/edit?usp=sharing


shurjoPay Online Payment Gateway
Haque Tower, JA-28/8/D, 10th Floor
Mohakhali C/A,Dhaka 1212, Bangladesh.
Implementation Document 
Of 
Android SDK

PREPARED BY
[Shurjomukhi Limited]
Document Pages
7
Version
 1.0
Citation
https://docs.google.com/document/d/1WWrVc4yoxGkl-9Z3Bv_QIMdaM4TpnJx1fouhdfqi8Fo/edit





REVISION HISTORY
 
Ver. #
Date of Release
Compiled By / Updated By
List of changes from Previous Version
1.1
12.10.2020
Nazmus Shahadat
N/A

 
Overview
We can easily implement payment gateway of shurjoPay through this SDK.
Here, we have the ability to set and define merchant information and required parameters. Please follow the below instructions.
 
1.      Dependencies
Add the following dependencies:

implementation "com.squareup.retrofit2:retrofit:2.6.0"
implementation "com.squareup.retrofit2:converter-gson:2.6.0"
implementation 'com.squareup.retrofit2:converter-scalars:2.6.0'
implementation 'com.google.code.gson:gson:2.8.5'
implementation 'com.squareup.okhttp3:okhttp:4.2.2'
implementation 'com.squareup.okhttp3:logging-interceptor:4.2.2'

2.      Proguard
If you use proguard, add the following lines in proguard-rules.pro:

-keep class com.sm.shurjopaysdk.model.TransactionInfo**
-keepclassmembers class com.sm.shurjopaysdk.model.TransactionInfo {*;}

3.      Adding shurjoPay SDK Library
Please include shurjoPay Android SDK on your existing project as per our described instructions.
SDK Name: shurjopaysdk-v1.1.aar

 
Figure-1
 
Figure-2
 
Figure-3
 
Figure-4
 
Figure-5
 
Figure-6
 
Figure-7
 
4.      Calling Payment Gateway
Create an object of 'RequiredDataModel' class with merchant name, merchant pass, uniq id (a unique id generated by your system with prefix ‘NOK’), total amount and token.
Example:
RequiredDataModel requiredDataModel = new RequiredDataModel("spaytest",  "JehPNXF58rXs", "NOK123456", 1000,”IPNToken”);

5.      Making a payment
Call makePayment method passing Activity, SdkType, RequiredDataModel and PaymentResultListener.
Example:
ShurjoPaySDK.getInstance().makePayment(this, SPayConstants.SdkType.TEST, requiredDataModel, new PaymentResultListener() {
 
@Override 
public void onSuccess(TransactionInfo transactionInfo) {
   Log.d(TAG, "onSuccess: transactionInfo = " + transactionInfo);
   Toast.makeText(MainActivity.this, "onSuccess: transactionInfo = " +
       transactionInfo, Toast.LENGTH_SHORT).show();
 }

 @Override
 public void onFailed(String message) {
   Log.d(TAG, "onFailed: message = " + message);
   Toast.makeText(MainActivity.this, message, Toast.LENGTH_SHORT).show();
 }
});

For rest api implementation:
For rest api implementation use the below parameters:

$xml_data = 'spdata=<?xml version="1.0" encoding="utf-8"?>
				<shurjoPay><merchantName>'.$options['Merchant_Username'].'</merchantName>
				<merchantPass>'.$options['Merchant_password'].'</merchantPass>
				<userIP>'.$clientIP.'</userIP>
				<uniqID>'.$uniq_transaction_key.'</uniqID>
				<totalAmount>'.$amount.'</totalAmount>				
				<paymentOption>shurjopay</paymentOption>
				<returnURL>http://localhost:81/sptest/returnurl.php</returnURL></shurjoPay>';

